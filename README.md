[![Build Status](https://github.com/tischda/pokenv/actions/workflows/build.yml/badge.svg)](https://github.com/tischda/pokenv/actions/workflows/build.yml)
[![Test Status](https://github.com/tischda/pokenv/actions/workflows/test.yml/badge.svg)](https://github.com/tischda/pokenv/actions/workflows/test.yml)
[![Coverage Status](https://coveralls.io/repos/tischda/pokenv/badge.svg)](https://coveralls.io/r/tischda/pokenv)
[![Go Report Card](https://goreportcard.com/badge/github.com/tischda/pokenv)](https://goreportcard.com/report/github.com/tischda/pokenv)

# pokenv

Puts environment variables into the Windows registry.

### Install

There are no dependencies.

~~~
go install github.com/tischda/pokenv/v3@latest
~~~

### Usage

~~~
Usage: pokenv [--checkpaths] [--machine] [-f inifile]

where inifile is a file containing the variables to load into the Windows environment.
For example, you can use a file like this:

  [GOBIN]
  c:\usr\bin

  [-GOPATH]
  # prefix with dash '-' to remove variable


OPTIONS:
  -c
  -checkpaths
        check if ALL values are valid paths on this system
  -f string
        file containing the variables to load into the Windows environment (default "stdin")
  -h
  -help
        displays this help message
  -m
  -machine
        specifies that the variables should be set system wide (HKEY_LOCAL_MACHINE)
  -v
  -version
        print version and exit


EXAMPLES:
  pokenv --checkpaths -f paths.ini

  where paths.ini could be the example shown above. When using the --checkpaths option,
  make sure ALL values are actually paths. If you set GOFLAGS here, it will fail.
~~~

### Input format

The input file has the following format:

~~~
# This is a comment
[Path]
C:\Windows\SYSTEM32
C:\Windows
C:\Windows\SYSTEM32\WBEM
C:\Windows\System32\WindowsPowerShell\v1.0

[-TODELETE]
# prefix with dash '-' means delete this variable
~~~

This is also the format generated by [peekenv](https://github.com/tischda/peekenv).

More examples:

~~~
# pokenv.exe -f data\setvar.txt
Setting `POKE_SECTION` to `valueline1`

# pokenv.exe
[MYVAR]
value1
value2
^Z
Setting `MYVAR` to `value1;value2`

# pokenv.exe
[-MYVAR]
^Z
Deleting MYVAR
~~~


### Other setters

* http://sourceforge.net/projects/pathmanager/files/?source=navbar
* http://www.rapidee.com/en/about
* http://p-nand-q.com/download/gtools/pathed.html
* http://ss64.com/nt/setx.html
